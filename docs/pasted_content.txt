Perfeito! Vou criar um prompt completo e detalhado para solicitar o desenvolvimento desse **EstÃºdio de ProduÃ§Ã£o de MÃ­dia com IA**. Aqui estÃ¡:

---

## ğŸ¬ EstÃºdio de ProduÃ§Ã£o de MÃ­dia com IA - EspecificaÃ§Ã£o Completa

### VisÃ£o Geral do Projeto
Desenvolver uma plataforma completa de produÃ§Ã£o de mÃ­dia com IA que rode localmente em um PC potente, acessÃ­vel via interface web e integrÃ¡vel com automaÃ§Ãµes N8n. O sistema deve expandir a APIBR existente para incluir funcionalidades de geraÃ§Ã£o de Ã¡udio, imagem e vÃ­deo com IA.

### Arquitetura do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Interface Web     â”‚â”€â”€â”€â”€â–¶â”‚   APIBR Server   â”‚â”€â”€â”€â”€â–¶â”‚  Modelos de IA  â”‚
â”‚   (React/Next.js)   â”‚â—€â”€â”€â”€â”€â”‚   (FastAPI)      â”‚â—€â”€â”€â”€â”€â”‚   (Local GPU)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚                         â”‚
         â–¼                           â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Supabase        â”‚     â”‚   Redis Queue    â”‚     â”‚  Local Storage  â”‚
â”‚  (DB + Storage)     â”‚     â”‚   (Celery)       â”‚     â”‚   (Outputs)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### EspecificaÃ§Ãµes TÃ©cnicas Detalhadas

#### 1. **Backend - APIBR Expandida**

```python
# Estrutura de pastas sugerida
apibr/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”œâ”€â”€ scraper/      # Funcionalidade existente
â”‚   â”‚   â”œâ”€â”€ audio/        # Nova: Clonagem e geraÃ§Ã£o de voz
â”‚   â”‚   â”œâ”€â”€ image/        # Nova: GeraÃ§Ã£o de imagens
â”‚   â”‚   â”œâ”€â”€ video/        # Nova: GeraÃ§Ã£o de vÃ­deos/avatares
â”‚   â”‚   â””â”€â”€ studio/       # Nova: Endpoints combinados
â”‚   â””â”€â”€ v2/               # Futura expansÃ£o
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ ai_models/
â”‚   â”‚   â”œâ”€â”€ audio/        # Chatterbox AI integration
â”‚   â”‚   â”œâ”€â”€ image/        # Flux, SD3.5 integration
â”‚   â”‚   â””â”€â”€ video/        # MultiTalk integration
â”‚   â”œâ”€â”€ queue/            # Sistema de filas para processamento
â”‚   â””â”€â”€ storage/          # IntegraÃ§Ã£o Supabase
â”œâ”€â”€ workers/              # Celery workers para processamento assÃ­ncrono
â””â”€â”€ config/
```

**Endpoints principais da API:**

```python
# Audio
POST /api/v1/audio/clone-voice
POST /api/v1/audio/generate-speech
GET  /api/v1/audio/voices

# Image
POST /api/v1/image/generate
POST /api/v1/image/edit
POST /api/v1/image/upscale

# Video
POST /api/v1/video/create-avatar
POST /api/v1/video/animate
GET  /api/v1/video/status/{job_id}

# Studio (CombinaÃ§Ãµes)
POST /api/v1/studio/create-project
POST /api/v1/studio/generate-content
GET  /api/v1/studio/projects
```

#### 2. **Modelos de IA Integrados**

```yaml
ai_models:
  audio:
    - name: "Chatterbox AI"
      repo: "https://github.com/resemble-ai/chatterbox"
      config:
        cfg: 0.65
        temperature: 1.0
        exaggeration: 1.0
        min_sample_duration: 15  # segundos

  image:
    - name: "Flux Kontext Dev"
      api: "https://bfl.ai/api"
      local_alternative: "FLUX.1-dev"
    - name: "Stable Diffusion 3.5"
      model: "stabilityai/stable-diffusion-3.5-large"
      vram_required: 10.5  # GB

  video:
    - name: "MultiTalk"
      repo: "https://github.com/MeiGen-AI/MultiTalk"
      model: "Wav2Lip 2.1"
      config:
        fps: 25
        sampling_steps: 100
        low_vram_mode: true  # 50-60 steps
```

#### 3. **Interface Web**

```typescript
// Estrutura de componentes React/Next.js
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ audio-studio/
â”‚   â”œâ”€â”€ image-studio/
â”‚   â””â”€â”€ video-studio/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ MediaUploader/
â”‚   â”œâ”€â”€ GenerationControls/
â”‚   â”œâ”€â”€ PreviewPlayer/
â”‚   â””â”€â”€ QueueStatus/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api/          # ComunicaÃ§Ã£o com APIBR
â”‚   â””â”€â”€ storage/      # Upload/download Supabase
â””â”€â”€ hooks/
    â”œâ”€â”€ useWebSocket/  # Status em tempo real
    â””â”€â”€ useQueue/      # Gerenciamento de filas
```

**Features da Interface:**
- Upload drag-and-drop para arquivos de mÃ­dia
- Preview em tempo real dos resultados
- HistÃ³rico de geraÃ§Ãµes com versionamento
- Templates prÃ©-configurados
- ExportaÃ§Ã£o em mÃºltiplos formatos
- Dark/Light mode

#### 4. **IntegraÃ§Ã£o N8n**

```javascript
// Exemplo de workflow N8n
{
  "nodes": [
    {
      "name": "APIBR Studio",
      "type": "n8n-nodes-apibr",
      "parameters": {
        "operation": "generateContent",
        "contentType": "video",
        "apiKey": "{{$credentials.apibrKey}}",
        "options": {
          "audioClone": true,
          "imageGeneration": "flux",
          "videoAvatar": true
        }
      }
    }
  ]
}
```

#### 5. **Banco de Dados Supabase**

```sql
-- Estrutura de tabelas
CREATE TABLE projects (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  type TEXT CHECK (type IN ('audio', 'image', 'video', 'mixed')),
  status TEXT DEFAULT 'draft',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE media_assets (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  project_id UUID REFERENCES projects(id),
  type TEXT NOT NULL,
  url TEXT NOT NULL,
  metadata JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE generation_jobs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  project_id UUID REFERENCES projects(id),
  type TEXT NOT NULL,
  status TEXT DEFAULT 'queued',
  parameters JSONB,
  result JSONB,
  created_at TIMESTAMP DEFAULT NOW(),
  completed_at TIMESTAMP
);
```

#### 6. **Sistema de Filas e Processamento**

```python
# Celery configuration
from celery import Celery

app = Celery('apibr_studio')

@app.task
def process_audio_generation(job_id, params):
    # Processamento com Chatterbox AI
    pass

@app.task
def process_image_generation(job_id, params):
    # Processamento com Flux/SD3.5
    pass

@app.task
def process_video_generation(job_id, params):
    # Processamento com MultiTalk
    pass
```

### Requisitos de Hardware (JÃ¡ Atendidos)

âœ… **Seu PC atende todos os requisitos:**
- AMD Ryzen 9 7900X (12 cores) - Excelente para processamento paralelo
- 32GB RAM DDR5 - Suficiente para modelos grandes
- RX 6750 XT 12GB - VRAM adequada para a maioria dos modelos
- SSD NVMe 2TB - Armazenamento rÃ¡pido para cache

### ConfiguraÃ§Ãµes Recomendadas

```yaml
# config.yaml
server:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  
gpu:
  device: "cuda"  # ou "rocm" para AMD
  memory_fraction: 0.8
  
models:
  cache_dir: "/path/to/models"
  max_cache_size: "100GB"
  
queue:
  max_concurrent_jobs: 2
  priority_weights:
    audio: 3
    image: 2
    video: 1
```

### SeguranÃ§a e Performance

1. **AutenticaÃ§Ã£o API:**
   - JWT tokens para acesso
   - Rate limiting por endpoint
   - API keys para N8n

2. **OtimizaÃ§Ãµes:**
   - Cache de modelos em memÃ³ria
   - Batch processing quando possÃ­vel
   - CompressÃ£o de outputs

3. **Monitoramento:**
   - Logs estruturados
   - MÃ©tricas de GPU/CPU
   - Dashboard de status

### InstruÃ§Ãµes de Deploy

```bash
# 1. Clone e configure APIBR
git clone [apibr-repo]
cd apibr

# 2. Instale dependÃªncias
pip install -r requirements.txt

# 3. Configure modelos de IA
python scripts/download_models.py

# 4. Inicie serviÃ§os
docker-compose up -d  # Redis, PostgreSQL
python main.py        # APIBR server
celery worker -A apibr.workers

# 5. Deploy interface web
cd web-interface
npm install
npm run build
npm start
```

### Exemplo de Uso Completo

```python
# 1. Criar projeto
project = api.create_project(
    name="Meu Avatar AI",
    type="mixed"
)

# 2. Clonar voz
voice_id = api.clone_voice(
    audio_file="minha_voz.mp3",
    name="Minha Voz"
)

# 3. Gerar imagem
image = api.generate_image(
    prompt="Professional headshot",
    model="flux-kontext"
)

# 4. Criar avatar
avatar = api.create_avatar(
    image_id=image.id,
    voice_id=voice_id,
    script="OlÃ¡, sou seu assistente AI!",
    duration=5
)
```

---

### ğŸ“ Anexos NecessÃ¡rios

### Por favor, inclua no comando:

| 1. **APIBR.zip** - CÃ³digo fonte atual da APIBR |
|---|


2. **EspecificaÃ§Ãµes adicionais** - Qualquer requisito especÃ­fico
3. **Exemplos de uso** - Casos de uso prioritÃ¡rios

Esse prompt estÃ¡ completo e pronto para ser enviado ao Cursor/Lovable/Manus. Ele fornece uma visÃ£o arquitetural clara, especificaÃ§Ãµes tÃ©cnicas detalhadas e considera todos os aspectos mencionados (Supabase, API para N8n, interface web, integraÃ§Ã£o com APIBR existente).